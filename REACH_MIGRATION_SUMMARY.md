# –ú–∏–≥—Ä–∞—Ü–∏—è —Å "–ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤" –Ω–∞ "–û—Ö–≤–∞—Ç—ã" - –°–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–°–∏—Å—Ç–µ–º–∞ –±—ã–ª–∞ —É—Å–ø–µ—à–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å –ø–æ–ª—è `avg_views` (—Å—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã) –Ω–∞ –Ω–æ–≤—ã–µ –ø–æ–ª—è –¥–ª—è –æ—Ö–≤–∞—Ç–æ–≤ —Å –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏ (–≤–∏–ª–∫–∞–º–∏) –¥–ª—è –∏—Å—Ç–æ—Ä–∏–π –∏ —Ä–∏–ª—Å.

## –ù–æ–≤—ã–µ –ø–æ–ª—è

### –í–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—è `avg_views` —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:

1. **`stories_reach_min`** - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Ö–≤–∞—Ç –∏—Å—Ç–æ—Ä–∏–π
2. **`stories_reach_max`** - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ—Ö–≤–∞—Ç –∏—Å—Ç–æ—Ä–∏–π  
3. **`reels_reach_min`** - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Ö–≤–∞—Ç —Ä–∏–ª—Å
4. **`reels_reach_max`** - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ—Ö–≤–∞—Ç —Ä–∏–ª—Å

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö

### 1. `database/models.py`
- ‚úÖ –£–¥–∞–ª–µ–Ω–æ –ø–æ–ª–µ `avg_views: Optional[int] = None`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –ø–æ–ª—è –¥–ª—è –æ—Ö–≤–∞—Ç–æ–≤:
  ```python
  stories_reach_min: Optional[int] = None
  stories_reach_max: Optional[int] = None
  reels_reach_min: Optional[int] = None
  reels_reach_max: Optional[int] = None
  ```

### 2. `database/database.py`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–Ω–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ `avg_views` –≤ –Ω–æ–≤—ã–µ –ø–æ–ª—è
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –±–ª–æ–≥–µ—Ä–æ–≤
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–ø–∏—Ä—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ `avg_views` –≤ –¥–∏–∞–ø–∞–∑–æ–Ω—ã (90%-110%)

### 3. `bot/states.py`
- ‚úÖ –£–¥–∞–ª–µ–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `waiting_for_avg_views`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:
  ```python
  waiting_for_stories_reach_min
  waiting_for_stories_reach_max
  waiting_for_reels_reach_min
  waiting_for_reels_reach_max
  ```

### 4. `handlers/seller.py`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `handle_avg_views` –Ω–∞ 4 –Ω–æ–≤—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ (–º–∞–∫—Å–∏–º—É–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–æ–ª—å—à–µ –º–∏–Ω–∏–º—É–º–∞)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –±–ª–æ–≥–µ—Ä–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–ª–æ–≥–µ—Ä–µ

### 5. `handlers/buyer.py`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–ª–æ–≥–µ—Ä–µ
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω–æ "–°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã" –Ω–∞ "–û—Ö–≤–∞—Ç –∏—Å—Ç–æ—Ä–∏–π" –∏ "–û—Ö–≤–∞—Ç —Ä–∏–ª—Å"

## –ù–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–ª–æ–≥–µ—Ä–∞

### –°—Ç–∞—Ä—ã–π –ø—Ä–æ—Ü–µ—Å—Å:
1. –ü–æ–¥–ø–∏—Å—á–∏–∫–∏
2. **–°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã** ‚Üê –£–¥–∞–ª–µ–Ω–æ
3. –õ–∞–π–∫–∏
4. –í–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å

### –ù–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å:
1. –ü–æ–¥–ø–∏—Å—á–∏–∫–∏
2. **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Ö–≤–∞—Ç –∏—Å—Ç–æ—Ä–∏–π**
3. **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ—Ö–≤–∞—Ç –∏—Å—Ç–æ—Ä–∏–π**
4. **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Ö–≤–∞—Ç —Ä–∏–ª—Å**
5. **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ—Ö–≤–∞—Ç —Ä–∏–ª—Å**
6. –õ–∞–π–∫–∏
7. –í–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å

## –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –°—Ç–∞—Ä–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
```
üëÅÔ∏è –°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã: 5,000
```

### –ù–æ–≤–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
```
üìä –û—Ö–≤–∞—Ç –∏—Å—Ç–æ—Ä–∏–π: 4,500-5,500
üìä –û—Ö–≤–∞—Ç —Ä–∏–ª—Å: 4,500-5,500
```

## –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

- ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ `avg_views` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∏–≥—Ä–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç—Å—è –¥–∏–∞–ø–∞–∑–æ–Ω ¬±10% –æ—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
- ‚úÖ –°—Ç–∞—Ä–∞—è –∫–æ–ª–æ–Ω–∫–∞ `avg_views` —É–¥–∞–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- ‚úÖ –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `test_reach_functionality.py`
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–µ–Ω–∞ —á–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –±–ª–æ–≥–µ—Ä—ã –ø–æ–ª—É—á–∞—é—Ç –¥–∏–∞–ø–∞–∑–æ–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Ö –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- ‚úÖ –ù–æ–≤—ã–µ –±–ª–æ–≥–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –ø–æ–ª—è

## –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤–∏–ª–∫–∞ –æ—Ö–≤–∞—Ç–æ–≤ –¥–ª—è –∏—Å—Ç–æ—Ä–∏–π –∏ —Ä–∏–ª—Å**
‚úÖ **–£–¥–∞–ª–µ–Ω—ã "–ø—Ä–æ—Å–º–æ—Ç—Ä—ã", –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ "–æ—Ö–≤–∞—Ç—ã"**
‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**
‚úÖ **–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**